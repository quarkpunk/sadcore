import{_ as y,G as p,c as s,f as _,d as t,g as c,i as k,t as a,e as d,x as g,y as u,j as m,b as f,Q as b,D as $,R as x,F as C,h as w,z as S}from"./main-Cko-RMe4.js";import{I}from"./Image-DMV8r9Gc.js";import{d as v}from"./date-D7bbuRdx.js";import{M}from"./MobileHeader-CqlrEW7c.js";const B={key:0,class:"chat-shortcut",id:"noselect"},R={class:"avatar"},D={class:"info"},F={class:"subtitle"},L={key:0,class:"button text-gray text-wrap"},N={key:1,class:"button text-wrap"},V={key:2,class:"button text-gray"},j={key:0,class:"meta"},O={key:0,class:"text-date button"},T={key:1,class:"text-date button"},z={key:2},A={key:3,class:"badge small"},E={key:1,class:"badge small"},G={__name:"ChatLine",props:{data:Object},setup(h){const e=h;return(n,r)=>{const i=p("Icon-Message-Readed"),o=p("Icon-Message-Send");return e.data&&e.data.user?(t(),s("div",B,[c("div",R,[e.data.user.photo?(t(),k(I,{key:0,class:"image",src:e.data.user.photo.small,id:"noevents",cover:""},null,8,["src"])):_("",!0)]),c("div",D,[c("p",F,a(e.data.user.name),1),e.data.message&&e.data.message.me?(t(),s("p",L,a(n.$t("prefix.you"))+": "+a(e.data.message.content),1)):e.data.message&&!e.data.message.me?(t(),s("p",N,a(e.data.message.content),1)):(t(),s("p",V,a(n.$t("pages.chats.message.preview")),1))]),e.data.message?(t(),s("div",j,[e.data.message?(t(),s("p",O,a(d(v)(e.data.message.created)),1)):(t(),s("p",T,a(d(v)(e.data.created)),1)),e.data.message.me?(t(),s("div",z,[g(m(i,{color:"var(--color-gray-400)",width:20,height:20},null,512),[[u,e.data.message.readed]]),g(m(o,{color:"var(--color-gray-400)",width:20,height:20},null,512),[[u,!e.data.message.readed]])])):!e.data.message.me&&!e.data.message.readed?(t(),s("div",A)):_("",!0)])):(t(),s("div",E))])):_("",!0)}}},H=y(G,[["__scopeId","data-v-9a4e5eb9"]]),Q={class:"col",style:{height:"0"}},q={key:0,class:"flex mobile-scroll-view chats-grid"},J={key:1,class:"col flex",id:"noevents"},K={style:{margin:"auto","text-align":"center",color:"var(--color-gray-500)"}},P={style:{"white-space":"pre-wrap"}},U={__name:"Chats",setup(h){const e=f(),n=S(),r=b();function i(o){n.push(`/chat/${o._id}`)}return $(()=>{e.mode.mock&&(r.data=x(15))}),(o,W)=>(t(),s("div",Q,[m(M,{title:o.$t("pages.chats.title")},null,8,["title"]),d(e).state.isOnline&&d(r).data.length>0?(t(),s("div",q,[(t(!0),s(C,null,w(d(r).data,l=>(t(),k(H,{key:l._id,data:l,onClick:X=>i(l)},null,8,["data","onClick"]))),128))])):(t(),s("div",J,[c("div",K,[c("p",P,a(o.$t("pages.chats.empty")),1)])]))]))}},se=y(U,[["__scopeId","data-v-24c05027"]]);export{se as default};
