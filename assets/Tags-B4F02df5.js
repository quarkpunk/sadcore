import{_ as I,n as N,c as p,o as m,w as C,a,v as B,r,p as F,f as z,b as t,B as c,I as v,d as h,F as D,e as M,q as R,s as $,t as x}from"./main-DaUflbHC.js";const A={class:"switch"},q={__name:"Toggle",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(y){const n=N(y,"modelValue");return(f,o)=>(m(),p("label",A,[C(a("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s)},null,512),[[B,n.value]]),o[1]||(o[1]=a("span",{class:"slider round"},null,-1))]))}},L=I(q,[["__scopeId","data-v-bab4264f"]]),j={class:"col"},G={key:0,class:"col flex gap-20",style:{height:"100%"}},H={class:"row gap-10"},J={class:"col flex gap-10"},K={class:"row gap-10"},O={key:1,class:"col gap-20"},P={class:"row gap-10"},Q={class:"col flex gap-10"},W={class:"row gap-15"},X={class:"row gap-10"},Y={key:2,class:"col flex gap-20",style:{height:"100%"}},Z={class:"row gap-10"},ee={class:"col flex gap-10"},le={class:"col gap-5 flex"},ae={class:"row gap-15"},te={key:1,style:{margin:"auto"}},ne={__name:"Tags",setup(y){const n=r(""),f=r(!0),o=r(""),s=r(""),u=r(""),g=r(!1),V=r(!1),k=r(!1),d=F(),_=z();function S(i){n.value="",o.value="",s.value="",u.value="",g.value=!0}function T(i){if(!i)return;const e=d.find(i);e&&(n.value=e._id,f.value=e.active,o.value=e.category,s.value=e.name.ru,u.value=e.name.en,V.value=!0)}function w(i){g.value=!1,V.value=!1}async function U(i){await d.create(!0,o.value,s.value,u.value)?(_.openInfo("Success created"),await d.fetch(),setTimeout(()=>{g.value=!1},500)):_.openError("Failed created")}async function b(i){await d.update(n.value,f.value,o.value,s.value,u.value)?(_.openInfo("Success update"),await d.fetch(),setTimeout(()=>{V.value=!1},500)):_.openError("Failed update")}async function E(i){k.value=!0,await d.fetch(),k.value=!1}return(i,e)=>(m(),p("div",j,[g.value?(m(),p("div",G,[a("div",H,[e[8]||(e[8]=a("h3",{style:{width:"100%"}},"Создать новый тэг",-1)),t(c,{text:"Создать",onClick:U,type:"secondary"}),t(c,{text:"Закрыть",onClick:w})]),a("div",J,[t(v,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),placeholder:"Категория"},null,8,["modelValue"]),a("div",K,[t(v,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value=l),flex:"",placeholder:"RU Название"},null,8,["modelValue"]),t(v,{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=l=>u.value=l),flex:"",placeholder:"EN Название"},null,8,["modelValue"])])])])):V.value?(m(),p("div",O,[a("div",P,[e[9]||(e[9]=a("h3",{style:{width:"100%"}},"Изменить тэг",-1)),t(c,{text:"Сохранить",onClick:b,type:"secondary"}),t(c,{text:"Закрыть",onClick:w})]),a("div",Q,[t(v,{modelValue:n.value,"onUpdate:modelValue":e[3]||(e[3]=l=>n.value=l),placeholder:"ID",disabled:""},null,8,["modelValue"]),a("div",W,[e[10]||(e[10]=a("p",null,"Активно?",-1)),t(L,{modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=l=>f.value=l),style:{margin:"0"}},null,8,["modelValue"])]),t(v,{modelValue:o.value,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value=l),placeholder:"Категория (только на английском языке)"},null,8,["modelValue"]),a("div",X,[t(v,{modelValue:s.value,"onUpdate:modelValue":e[6]||(e[6]=l=>s.value=l),flex:"",placeholder:"RU Название"},null,8,["modelValue"]),t(v,{modelValue:u.value,"onUpdate:modelValue":e[7]||(e[7]=l=>u.value=l),flex:"",placeholder:"EN Название"},null,8,["modelValue"])])])])):(m(),p("div",Y,[a("div",Z,[t(v,{placeholder:"Категория"}),t(c,{text:"Найти",onClick:E,flex:""}),t(c,{text:"Создать",onClick:S,flex:""})]),a("div",ee,[h(d).data.length>0?(m(!0),p(D,{key:0},M(h(d).data,l=>(m(),p("div",{key:l._id,class:R(["list-item",{disabled:!l.active}])},[a("div",le,[C(a("p",null,"Категория: "+x(l.category),513),[[$,l.category!=""]]),a("p",null,"ru: "+x(l.name.ru),1),a("p",null,"en: "+x(l.name.en),1)]),a("div",ae,[t(c,{size:"small",text:"Изменить",onClick:oe=>T(l._id)},null,8,["onClick"]),t(c,{size:"small",text:"Удалить"})])],2))),128)):(m(),p("div",te,[...e[11]||(e[11]=[a("p",null,"Тут ничего нет",-1)])]))])]))]))}};export{ne as default};
